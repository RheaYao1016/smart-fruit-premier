import{i as _,u as k,o as b,c as r,a as e,t as l,l as d,k as w,b as m,H as C,m as P,j as u,x as j,e as M,f as n}from"./index-DxTQJ_MY.js";/**
 * @license lucide-vue-next v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=_("CheckCircleIcon",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),V={class:"h-full flex flex-col items-center justify-center text-center max-w-sm mx-auto min-h-[500px]"},N={key:0,class:"w-full space-y-12"},S={class:"relative w-64 h-64 mx-auto"},B={class:"w-full h-full transform -rotate-90"},F=["stroke-dasharray","stroke-dashoffset"],T={class:"absolute inset-0 flex flex-col items-center justify-center"},z={class:"text-5xl font-heading font-bold text-dark-text mb-2"},H={class:"text-gray-500 text-sm"},L={key:1,class:"w-full space-y-8 animate-in zoom-in duration-500"},q={class:"w-32 h-32 bg-fresh-green-100 text-fresh-green-600 rounded-full flex items-center justify-center mx-auto mb-6"},D={class:"text-gray-500"},A={__name:"ProductionStatus",setup(E){const p=M(),s=k(),c=u(0),f=u(0),x=u(!1),h=j(()=>({juice:"果汁",canned:"水果罐头",cut:"果切"})[s.selectedMode]||"制作");b(()=>{g()});const g=async()=>{const a=s.fruitCount,t=2e3;for(let o=0;o<a;o++){f.value=o+1;for(let i=0;i<=100;i+=10)await new Promise(y=>setTimeout(y,t/10)),c.value=(o*100+i)/a}x.value=!0},v=()=>{s.resetProduction(),p.push("/")};return(a,t)=>(n(),r("div",V,[x.value?(n(),r("div",L,[e("div",q,[m(d(I),{class:"w-16 h-16"})]),e("div",null,[t[2]||(t[2]=e("h2",{class:"text-3xl font-heading font-bold text-dark-text mb-2"},"制作完成！",-1)),e("p",D,"您的"+l(h.value)+"已准备好，请享用。",1)]),e("button",{onClick:v,class:"w-full btn-secondary text-lg flex items-center justify-center gap-2"},[m(d(C),{class:"w-5 h-5"}),t[3]||(t[3]=P(" 返回主页 ",-1))])])):(n(),r("div",N,[e("div",S,[(n(),r("svg",B,[t[0]||(t[0]=e("circle",{cx:"128",cy:"128",r:"120",stroke:"currentColor","stroke-width":"8",fill:"transparent",class:"text-gray-100"},null,-1)),e("circle",{cx:"128",cy:"128",r:"120",stroke:"currentColor","stroke-width":"8",fill:"transparent",class:"text-fresh-green-500 transition-all duration-300 ease-linear","stroke-dasharray":2*Math.PI*120,"stroke-dashoffset":2*Math.PI*120*(1-c.value/100),"stroke-linecap":"round"},null,8,F)])),e("div",T,[e("span",z,l(Math.round(c.value))+"%",1),e("span",H,"正在处理第 "+l(f.value)+"/"+l(d(s).fruitCount)+" 个",1)])]),t[1]||(t[1]=w('<div class="grid grid-cols-3 gap-2 w-full"><div class="flex flex-col items-center p-3 bg-gray-50 rounded-xl"><div class="w-2 h-2 rounded-full bg-green-500 mb-2 animate-pulse"></div><span class="text-xs text-gray-500">温控正常</span></div><div class="flex flex-col items-center p-3 bg-gray-50 rounded-xl"><div class="w-2 h-2 rounded-full bg-green-500 mb-2 animate-pulse"></div><span class="text-xs text-gray-500">刀头运转</span></div><div class="flex flex-col items-center p-3 bg-gray-50 rounded-xl"><div class="w-2 h-2 rounded-full bg-green-500 mb-2 animate-pulse"></div><span class="text-xs text-gray-500">自动调节</span></div></div>',1))]))]))}};export{A as default};
